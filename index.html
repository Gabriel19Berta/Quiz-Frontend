<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="assets/style/load.css">
  <script src="assets/js/script.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login - Frontend Quiz</title>
</head>
<body>
  <div class="contain-tema">
    <div class="contain-sol">
      <img src="assets/img/icon-sun-dark.svg" alt="Sol">
    </div>
    <div class="switch">
      <input type="checkbox" id="toggle" />
      <label for="toggle" class="slider"></label>
    </div>
    <div class="contain-lua">
      <img src="assets/img/icon-moon-dark.svg" alt="Lua">
    </div>
  </div>
  <div class="login-container">
    <h1>Bem-vindo!</h1>
    <p>Acesse sua conta e comece a jogar agora mesmo.</p>


    <form>
      <div class="group">
        <i class="ri-user-line icon"></i>
        <input class="input" type="email" id="email" name="email" placeholder="Email">
      </div>
      <div class="group">
        <i class="ri-lock-2-line icon"></i>
        <input class="input" type="password" id="password" name="password" placeholder="Senha">
      </div>
      <button id="recover-password-button" class="forgot-password" type="button" onclick="recoverPassword()">Esqueceu sua senha?</button>
      <button class="btn-login" id="login-button" type="button" onclick="login()">Entrar</button>
    </form>


    <div class="login-footer">
      <p>NÃ£o tem uma conta? <button type="button" onclick="register()">Cadastre-se</button></p>
    </div>
  </div>
</body>

<script src="https://www.gstatic.com/firebasejs/11.2.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.2.0/firebase-auth-compat.js"></script>
<script src="firebase-init.js"></script>
<script src="assets/js/index.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    createLoader();
    createBlurLayer();
    showLoading();
  });

  document.addEventListener('keypress', function(event) {
    if (event.key === 'Enter') {
      login();
    }
  })

  window.addEventListener('load', () => {
    hideLoading();
  });

  function createLoader() {
    const loaderDiv = document.createElement('div');
    loaderDiv.id = 'wifi-loader';
    loaderDiv.style.display = 'flex';
    loaderDiv.style.justifyContent = 'center';
    loaderDiv.style.alignItems = 'center';
    loaderDiv.style.position = 'fixed';
    loaderDiv.style.top = '0';
    loaderDiv.style.left = '0';
    loaderDiv.style.width = '100%';
    loaderDiv.style.height = '100%';
    loaderDiv.style.zIndex = '9999';
    loaderDiv.innerHTML = `
        <svg viewBox="0 0 86 86" class="circle-outer">
            <circle r="40" cy="43" cx="43" class="back"></circle>
            <circle r="40" cy="43" cx="43" class="front"></circle>
        </svg>
    `;
    document.body.appendChild(loaderDiv);
  }

  function createBlurLayer() {
    const blurLayer = document.createElement('div');
    blurLayer.id = 'blur-layer';
    blurLayer.style.position = 'fixed';
    blurLayer.style.top = '0';
    blurLayer.style.left = '0';
    blurLayer.style.width = '100vw';
    blurLayer.style.height = '100vh';
    blurLayer.style.zIndex = '9998';
    blurLayer.style.backgroundColor = 'rgba(0, 0, 0, 0.3)';
    blurLayer.style.display = 'none';
    document.body.appendChild(blurLayer);
  }


  function showLoading() {
    const loader = document.getElementById('wifi-loader');
    const blurLayer = document.getElementById('blur-layer');
    if (loader && blurLayer) {
        loader.style.display = 'flex';
        blurLayer.style.display = 'block';
    }
  }

  function hideLoading() {
    const loader = document.getElementById('wifi-loader');
    const blurLayer = document.getElementById('blur-layer');
    if (loader && blurLayer) {
        loader.style.display = 'none';
        blurLayer.style.display = 'none';
    }
  }

</script>
</html>